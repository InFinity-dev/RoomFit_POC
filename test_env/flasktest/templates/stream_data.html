<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        var latest = document.getElementById('val');

        var xhr = new XMLHttpRequest();
        xhr.open('GET', '{{ url_for('stream')}}');

        xhr.onreadystatechange = function() {
            var all_lines = xhr.responseText.split('\\n');
            last_line = all_lines.length - 2
            latest.textContent = all_lines[last_line]

            if (xhr.readyState == XMLHttpRequest.DONE) {
                /*alert("The End of Stream");*/
                latest.textContent = "The End of Stream"
            }
        }

        xhr.send();
    </script>
</head>
<body>
<p>플라스크로 부터 받은 현재 값: <span id="val"></span></p>
</body>
</html>